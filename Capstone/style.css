/* ======================================
   GLOBAL STYLES
====================================== */
body {
  font-family: "Lora", serif;
  font-size: 1.15rem;
  line-height: 1.75rem;
  color: #050505;
  background-color: #d0d9cd;
  -webkit-font-smoothing: antialiased;
  margin: 0;
  padding: 0;
  scroll-behavior: smooth;
}

/* Reset default paragraph margin */
p {
  margin-block-start: 1em;
  margin-block-end: 1em;
}

/* Generic intro text (applies to all sections unless overridden) */
.content-section p.intro {
  padding: 0;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 10vh;
  margin-top: 250px;
  font-size: 1.3rem;
  padding-left: 11rem;
}

/* ======================================
   SCROLLYTELLING (Section 1)
   Pinned banner + cross-fade para1 → para2 → fade out, then release.
====================================== */

/* Sticky viewport for Section 1 */
.pin-wrap {
  position: sticky;
  top: 0;
  height: 100vh;          /* keep section stuck until spacer consumed */
  overflow: hidden;
  z-index: 5;
}

/* Banner inside the pinned viewport — keep your original 370px height */
.pin-wrap .banner-image {
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 370px;          /* explicit height so it shows (not fullscreen) */
  z-index: 0;
}

/* Overlayed text container centered over the banner */
.fixed-text-container {
  position: absolute;     /* fills the sticky pin area */
  inset: 0;
  display: flex;
  align-items: center;    /* vertical center */
  justify-content: flex-start;
  z-index: 1;
  pointer-events: none;   /* not interactive while overlaid */
}

/* Overlap paragraphs and control visibility (fade only, no slide) */
.scroll-para {
  position: absolute;
  left: 0;
  right: 0;
  opacity: 0;             /* JS animates */
  transition: opacity 320ms ease;
  text-align: justify;
  will-change: opacity;
}

/* Paragraph paddings */
#para1 {
  padding-left: 0rem;
  font-size: 1.3rem;
  max-width: 120ch;
  
}
#para2 {

  font-size: 1.3rem;
  left: -10%;
  right: 5%;
  top: 60%;
  transform: translateY(-50%); /* vertical centering only */
  max-width: none;             /* let the width be set by left/right */
  padding-left: 0;
 text-align: justify;
  word-spacing: 20px;
}

/* Spacer length is updated via JS; fallback here */
#scrolly-spacer {
  height: 160vh;
}

/* Ensure Section 1 itself doesn't add extra scroll beyond the spacer */
#section-1 {
  padding-bottom: 0;
}

/* ======================================
   BANNER (base styles + decorative lines)
====================================== */
.banner-image {
  background-image: url('img/banner_v3.jpg');
  background-size: cover;
  background-position: center;
  position: relative;
  width: 100%;
  height: 370px;  /* base height when not overridden by pin */
}

/* Decorative horizontal lines below banner */
/* .banner-image::after {
  content: "";
  position: absolute;
  top: 460px; /* <- set vertical position where you want the “stop” line */
  /* left: 50%; */
  /* transform: translateX(-50%); */
  /* width: 90%; */
  /* height: 1.2px; */
  /* background-color: #560b0b; */
  /* z-index: 10; make sure it’s above text */
/* } */ */

/* .section-content-1 {
  position: relative;
  overflow: hidden; /* hides text when it goes past the line */
/* } */ */

/* ======================================
   SECTION 1 (content)
====================================== */
#section-1 {
  padding-bottom: 0rem; /* increase this for more gap */
}

#section-1 .section-content-1 p {
  text-align: justify;
  padding-left: 20.5rem;
max-width: 900ch !important;
  margin: 1em 0;
}
#section-1 .section-content-1 p.left-align:not(.scroll-para) {
  padding-left: 10rem;   /* left gutter */
  max-width: 90ch;       /* widen/narrow text box */
  margin: 2rem 0;        /* vertical spacing between paragraphs */
  line-height: 1.8;      /* readability */
  text-align: left;      /* set to center/right if needed */
}

#section-1 .section-content-1 p.intro {
  margin-top: 220px;
  margin-bottom: 0rem;
  font-size: 1.4rem;
  padding-left: 10rem;
}

#section-1 .section-content-1 h2 {
  text-align: left;
  max-width: 90ch;
  padding-left: 10rem;
  font-size: 1.3rem;
  margin-top: 20em;
}

#section-1 .section-content-1 ul {
  padding-left: 20rem;
  margin-left: 5rem;
  margin-right: 1rem;
  text-align: left;
}

#section-1 .section-content-1 .list-1 li {
margin-bottom: 1rem;
  padding-left: 1rem;   /* push text inward from left */
  padding-right: 2rem;  /* space from right */
  text-align: left;     /* or "right" to align to the right side */
  
}

/* ======================================
   SECTION 2
====================================== */
#section-2 .section-content-2 p.intro {
  margin-top: 300px;
  margin-bottom: 50px;
  margin-right: 10rem;
  font-size: 1.5rem;
  padding-left: 13rem;
  max-width: 120ch;
  text-align: left;
}

#section-2 .section-content-2 h2 {
  text-align: left;
  padding-left: 21.5rem;
  font-size: 1.3rem;
  margin-top: 5em;
}

#section-2 #map {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  margin-top: 150px;
  margin-bottom: 400px;
}

/* ======================================
   SECTION 3
====================================== */
#section-3 .section-content-3 p.left-align {
  text-align: left;
  font-size: 1.3rem;
  padding-left: 15.5rem;
  padding-right: 15rem;
  max-width: 120ch;
  margin: em 100;
}

#section-3 .section-content-3 h2 {
  text-align: left;
  padding-left: 21.5rem;
  font-size: 1.3rem;
  margin-top: 5em;
}

#section-3 .section-content-3 ul {
  padding-left: 5rem;
  margin-left: 1rem;
  text-align: left;
}

#section-3 .section-content-3 .list-1 li {
  margin-bottom: 1rem;
  padding-right: 1rem;
}

/* ======================================
   SECTION 4
====================================== */
/* make the container a positioning context */
#section4 .section-content-4 { position: relative; }

/* keep svg as base layer */
#section4 svg { 
  display: block;
  margin-top: 180px;
 }

/* paragraph #1 controls */
#section4 .chart-blurb {
  position: absolute;
  top: 60px;     /* move vertically */
  left: 250px;    /* move horizontally */
  max-width: 160ch;
  font-size: 1.3rem;
  margin: 0;
  
  z-index: 2;
}

/* paragraph #2 controls */
#section4 .chart-instruction {
  position: absolute;
  top: 320px;     /* independent from the first */
  left: 500px;
  max-width: 36ch;
  font-size: 1.8rem;
  margin: 0;
  color: #0b4d42;
  z-index: 2;
  opacity: 0.9;  /* example: slightly dimmer */
}

/* optional: keep svg interactive under the text */
#section4 .chart-blurb,
#section4 .chart-instruction { pointer-events: none; }

/* ======================================
   OTHER ELEMENTS
====================================== */


#map {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 80%;
  margin-top: 600px;
}

/* Tooltip styles for neumorphic look and instant visibility */
#map-tooltip {
  opacity: 1;
  border: 1px solid #ccc;
  color: #202020;
  font-family: "Lora", serif;
}
/* Smooth handoff visuals */
.pin-wrap { overflow: hidden; }                      /* clip text under banner */
.pin-wrap .banner-image {
  will-change: transform;
  transform: translateY(0);                          /* JS animates this */
}

/* Start the content below hidden; JS reveals it during handoff */
#section-1 .section-content-1 > h2,
#section-1 .section-content-1 > p.left-align:not(.scroll-para),
#section-1 .section-content-1 > ul.list-1 {
  opacity: 0;
  transform: translateY(16px);
  will-change: opacity, transform;
  position: relative;
  z-index: 1;
  padding-left: 15rem;  /* smaller number → bullets further left */
  margin-left: 10;      /* adjust if needed */ 
  margin-right: 15rem;                                       /* under the banner */
}

/* Keep banner above while it freezes */
.pin-wrap .banner-image { z-index: 2; position: absolute; inset: 0 auto auto 0; right: 0; }
/* Keep banner on top while frozen; allow smooth slide-out when map appears */
.pin-wrap.banner-fixed {
  position: fixed;
  top: 0;
  left: 0; right: 0;
  height: 100vh;
  z-index: 8;
  pointer-events: none;
}
.pin-wrap.banner-fixed .banner-image {
  will-change: transform;
  transition: transform 480ms ease;
}
